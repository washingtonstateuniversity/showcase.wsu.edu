/*! wsu-showcase 0.0.1 */
/*  See https://github.com/washingtonstateuniversity/showcase.wsu.edu/ for full source.*/
!function(a){var b=0,c="",d=function(b){var c=a(b).val(),d=0;if(c){c=c.replace(/\.\.\./g," "),c=c.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," "),c=c.replace(/(\w+)(&#?[a-z0-9]+;)+(\w+)/i,"$1$3").replace(/&.+?;/g," "),c=c.replace(/[0-9.(),;:!?%#$?\x27\x22_+=\\\/\-]*/g,"");var e=c.match(/[\w\u2019\x27\-\u00C0-\u1FFF]+/g);e&&(d=e.length)}return d},e=function(b){a("#wsu-word-counter").html(d(b))};a(document).ready(function(){var f,g=a("[class*=max-words]"),h=a(".gform_button");if(0!==g.length){g=g.attr("class").split(/\s+/);for(var i=0;i<g.length;i++)0==g[i].indexOf("wsu-max-words-")&&(f=g[i]);b=parseInt(f.split("-").pop()),c=a("."+f).find("textarea"),c.parent().append('<div id="wsu-word-count"><span id="wsu-word-counter">0</span>/'+b+" words</div>"),c.on("keyup",function(a){(32==a.keyCode||13==a.keyCode)&&e(this)}),h.removeAttr("onclick"),h.on("click",function(){var a=d(c);return a>b?(alert("Up to "+b+" words are allowed on this form. Your current count is "+a+"."),!1):void 0})}})}(jQuery);